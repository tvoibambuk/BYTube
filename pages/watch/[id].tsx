import { useRouter } from 'next/router'\nimport { useEffect, useState } from 'react'\nimport { supabase } from '../../lib/supabaseClient'\n\nexport default function Watch() {\n  const router = useRouter()\n  const { id } = router.query\n  const [video, setVideo] = useState<any>(null)\n  const [url, setUrl] = useState<string>('')\n\n  useEffect(() => {\n    if (!id) return\n    fetchVideo(id as string)\n  }, [id])\n\n  async function fetchVideo(videoId: string) {\n    const { data, error } = await supabase.from('videos').select('*').eq('id', videoId).single()\n    if (error) {\n      console.error(error)\n      return\n    }\n    setVideo(data)\n    if (data?.path) {\n      const { data: publicUrl } = supabase.storage.from('videos').getPublicUrl(data.path)\n      setUrl(publicUrl.publicUrl)\n    }\n  }\n\n  if (!video) return <div>Загрузка...</div>\n\n  return (\n    <div>\n      <div>\n        {url ? (\n          <video controls src={url} className="w-full rounded-lg bg-black" />\n        ) : (\n          <div className="w-full h-56 bg-[#081022] rounded flex items-center justify-center">Нет видео</div>\n        )}\n      </div>\n\n      <h1 className="mt-3 font-semibold text-lg">{video.title}</h1>\n      <div className="text-sm text-[#94a3b8]">{video.channel} • {video.views} просмотров</div>\n\n      <section className="mt-4">\n        <h3 className="font-semibold">Комментарии</h3>\n        <div className="text-sm text-[#94a3b8] mt-2">Комментарии ещё не реализованы в полном объёме (MVP)</div>\n      </section>\n    </div>\n  )\n}